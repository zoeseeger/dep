{
    "jira_id": "GID-XXXX",
    "action": "new_table",
    "output_dir": "dep-output",
    "user": "xxx",
    "user_email": "xxx.xxx@mecca.com.au",
    "description": "xxx description",
    "subject_area": "xxx business/function",
    "schedule": "xxx refresh frequency",
    "staging_table": false,
    "ddl_file": "GID-XXXX_xxx_schema_xxx_table_name_ddl.sql",
    "dag_file": "xxx_schema_xxx_table_name.py",
    "doc_file": "Unit-Test-GID-XXXX_xxx_schema_xxx_table_name.md",
    "table_structures": [
        {
            "schema": "dwh",
            "table_name": "fct_loss_prevention_sale",
            "schema_table": "dwh.fct_loss_prevention_sale",
            "import_method": "incremental",
            "insert_method": "upsert",
            "table_description": "xxx description",
            "columns": [
                "date_key",
                "store_key",
                "item_key",
                "time_key",
                "customer_key",
                "primary_store_key",
                "cashier_primary_store_key",
                "source_system",
                "sale_line_sid",
                "invoice_sid",
                "receipt_number",
                "customer_sid",
                "cashier_id",
                "employee_id",
                "original_invoice_sid",
                "original_sale_line_sid",
                "billing_address_id",
                "shipping_address_id",
                "sale_channel",
                "is_employee_flag",
                "in_employment_period_flag",
                "return_in_return_period",
                "returned_greater_than_paid_flag",
                "employee_ea_flag",
                "record_created",
                "record_updated"
            ],
            "types": [
                "int4",
                "int4",
                "int4",
                "int4",
                "int8",
                "int4",
                "int4",
                "text",
                "text",
                "text",
                "text",
                "text",
                "text",
                "text",
                "text",
                "text",
                "text",
                "text",
                "text",
                "boolean",
                "boolean",
                "boolean",
                "boolean",
                "boolean",
                "timestamptz",
                "timestamptz"
            ],
            "nullables": [
                "NOT NULL",
                "NOT NULL",
                "NOT NULL",
                "NOT NULL",
                "NULL",
                "NULL",
                "NULL",
                "NOT NULL",
                "NOT NULL",
                "NOT NULL",
                "NULL",
                "NULL",
                "NULL",
                "NULL",
                "NOT NULL",
                "NULL",
                "NULL",
                "NULL",
                "NULL",
                "NULL",
                "NULL",
                "NULL",
                "NULL",
                "NULL",
                "NOT NULL",
                "NOT NULL"
            ],
            "descriptions": [
                "Unique ID for date",
                "Unique ID for store",
                "Unique ID for item",
                "Unique ID for time",
                "Unique ID for customer",
                "Store key of customer employee's primary store",
                "Store key of cashier's primary store",
                "System from which the customer record originated from",
                "Unique identifier for the sale line in the source system",
                "Unique identifier for the transaction in the source system",
                "Receipt number as recorded on the receipt",
                "Unique customer identifier from source system",
                "Employee ID that processed the transaction",
                "Employee ID",
                "Unique identifier for the transaction in the source system of the original purchase",
                "Unique identifier for the sale line in the source system of the original purchase",
                "Billing address ID",
                "Shipping address ID",
                "\"Store\" or \"Online\"",
                "True if purchase uses employee discount",
                "True if transaction date between employee hire and termination dates",
                "True if:reason code in ('CRF','CRR',    'CRO', 'DIS', 'DIT') for damaged/reaction/incorrectreturned within 90    days for customersreturned within 30    days for employee purchases to any tender or 90 days to a gift card or    used in another purchaseNULL for non-returns and returns without an invoice of purchaseReturn Policy for customers from our website:Return Policy for employee transactions:",
                "True if the customer received a greater return amount than originally paid",
                "True if the customer is an employee and used Endless Asle",
                "Date record created in table",
                "Date record updated in table"
            ],
            "source_columns": [
                "",
                "",
                "",
                "",
                "",
                "store_key",
                "store_key",
                "",
                "",
                "",
                "",
                "",
                "",
                "customer_employee_id",
                "invoice_sid",
                "",
                "",
                "",
                "finance_concept",
                "loyalty_group_description",
                "",
                "",
                "",
                "",
                "",
                ""
            ],
            "source_alias": [
                "fs",
                "fs",
                "fs",
                "fs",
                "fs",
                "ds1",
                "ds3",
                "fs",
                "fs",
                "fs",
                "fs",
                "fs",
                "fs",
                "dcpd",
                "fs",
                "fs",
                "fsop",
                "fsop",
                "ds2",
                "fs",
                "de",
                "fs",
                "fs",
                "fs",
                "",
                ""
            ],
            "sources": {
                "dwh.fct_sale": {
                    "alias": "fs",
                    "source_table": "dwh.fct_sale"
                },
                "dwh.dim_store[1]": {
                    "alias": "ds1",
                    "source_table": "dwh.dim_store"
                },
                "dwh.dim_store[3]": {
                    "alias": "ds3",
                    "source_table": "dwh.dim_store"
                },
                "dwh_crm.dim_customer_personal_details": {
                    "alias": "dcpd",
                    "source_table": "dwh_crm.dim_customer_personal_details"
                },
                "dwh.fct_sale_online_postcode": {
                    "alias": "fsop",
                    "source_table": "dwh.fct_sale_online_postcode"
                },
                "dwh.dim_store[2]": {
                    "alias": "ds2",
                    "source_table": "dwh.dim_store"
                },
                "dwh.dim_employee": {
                    "alias": "de",
                    "source_table": "dwh.dim_employee"
                }
            },
            "indexes": [
                "sale_line_sid",
                "source_system",
                "date_key",
                "store_key",
                "item_key",
                "employee_id",
                "record_updated"
            ],
            "primary_keys": [
                "sale_line_sid",
                "source_system"
            ],
            "foreign_keys": []
        }
    ],
    "view_structures": [
        {
            "schema": "dwh",
            "view_name": "fct_loss_prevention_sale_v",
            "foundation_table_name": "fct_loss_prevention_sale",
            "materialized": true,
            "columns": [
                "date_key",
                "date",
                "time_key",
                "time",
                "source_system",
                "sale_line_sid",
                "invoice_sid",
                "receipt_number",
                "extended_price_lcy",
                "quantity",
                "receipt_timestamp",
                "original_invoice_sid",
                "original_sale_line_sid",
                "original_extended_price_lcy",
                "returned_greater_than_paid_flag",
                "original_receipt_timestamp",
                "return_in_return_period",
                "return_reason_code",
                "customer_key",
                "customer_sid",
                "customer_state",
                "billing_address_id",
                "billing_address_postcode",
                "shipping_address_id",
                "shipping_address_postcode",
                "is_employee_flag",
                "employee_id",
                "in_employment_period_flag",
                "business_title",
                "employee_type",
                "job_family_group",
                "cost_centre",
                "employee_ea_flag",
                "order_type",
                "primary_store_key",
                "primary_store_code",
                "primary_store_name",
                "store_key",
                "sale_channel",
                "store_code",
                "store_name",
                "store_state",
                "store_country",
                "item_key",
                "item_code",
                "item_description",
                "category_name",
                "subcategory_name",
                "pim_brand_name",
                "pim_product_name",
                "pim_shade_name",
                "cashier_id",
                "cashier_business_title",
                "cashier_cost_centre",
                "cashier_primary_store_code",
                "cashier_primary_store_state",
                "order_fulfilment_location_code"
            ],
            "descriptions": [
                "Unique ID for date",
                "Date of purchase",
                "Unique ID for time",
                "Time of purchase",
                "System from which the customer record originated from",
                "Unique identifier for the sale line in the source system",
                "Unique identifier for the transaction in the source system",
                "Receipt number as recorded on the receipt",
                "Total sale amount for line in the store's currency",
                "Number of item's sold or returned",
                "Timestamp of the receipt in the store's local time",
                "Unique identifier for the transaction in the source system of the original purchase",
                "Reference to the original sale line this return relates to",
                "Total sale amount for line in the store's currency of original purchase (for returns)",
                "True if the customer received a greater return amount than originally paid",
                "Timestamp of the receipt in the store's local time of original purchase (for returns)",
                "True if:reason code in ('CRF','CRR',    'CRO', 'DIS', 'DIT') for damaged/reaction/incorrectreturned within 90    days for customersreturned within 30    days for employee purchases to any tender or 90 days to a gift card or    used in another purchaseNULL for non-returns and returns without an invoice of purchase",
                "Reason code entered at POS for the item being returned",
                "Unique ID for customer",
                "Unique customer identifier from source system",
                "State of customer",
                "Billing address ID",
                "Postcode of billing address",
                "Shipping address ID",
                "Postcode of shipping address",
                "True if customer is a staff member",
                "Staff employee ID",
                "True if transaction date between employee hire and termination dates",
                "Business title of employee",
                "Contract type of employee",
                "\"Distribution Centre\", \"Support Centre\" or \"Retail\"",
                "Cost centre of employee customer",
                "True if the customer is an employee and used Endless Aisle",
                "\"C&C\" or \"EA\"",
                "Store key of customer employee's primary store",
                "Code of primary store of employment of employee customer",
                "Primary store name of employment of employee customer",
                "Unique ID for store",
                "\"Store\" or \"Online\"",
                "Code of store of purchase",
                "Store name of purchase",
                "State of store of purchase",
                "Country of store of purchase",
                "Unique ID for item",
                "Item code",
                "Item description",
                "Item category",
                "Item subcategory",
                "Product brand",
                "Product name",
                "Product shade name",
                "Employee ID that processed the transaction",
                "Business title of the cashier",
                "Cost centre of cashier",
                "Code of primary store of employment of cashier",
                "State of primary store of employment of cashier",
                "Collection store code"
            ],
            "source_columns": [
                "",
                "",
                "",
                "",
                "",
                "",
                "",
                "",
                "",
                "",
                "",
                "",
                "",
                "extended_price_lcy",
                "",
                "receipt_timestamp",
                "",
                "",
                "",
                "",
                "county",
                "",
                "billing_postcode",
                "",
                "shipping_postcode",
                "",
                "",
                "",
                "",
                "",
                "",
                "",
                "",
                "",
                "",
                "primary_store",
                "store_name",
                "",
                "",
                "",
                "",
                "county",
                "country",
                "",
                "",
                "description",
                "",
                "",
                "",
                "",
                "",
                "",
                "business_title",
                "cost_centre",
                "store_code",
                "county",
                ""
            ],
            "source_alias": [
                "flps",
                "dd",
                "flps",
                "dt",
                "flps",
                "flps",
                "flps",
                "flps",
                "fs",
                "fs",
                "fs",
                "flps",
                "flps",
                "fs2",
                "flps",
                "fs2",
                "flps",
                "fs",
                "flps",
                "flps",
                "dcpd",
                "flps",
                "fsop",
                "flps",
                "fsop",
                "flps",
                "flps",
                "flps",
                "de",
                "de",
                "de",
                "de",
                "flps",
                "fs",
                "flps",
                "de",
                "ds1",
                "flps",
                "flps",
                "ds",
                "ds",
                "ds",
                "ds",
                "flps",
                "di",
                "di",
                "di",
                "di",
                "di",
                "di",
                "di",
                "flps",
                "de1",
                "de1",
                "ds2",
                "ds2",
                "fs"
            ],
            "sources": {
                "dwh.fct_loss_prevention_sale": {
                    "alias": "flps",
                    "source_table": "dwh.fct_loss_prevention_sale"
                },
                "dwh.dim_date": {
                    "alias": "dd",
                    "source_table": "dwh.dim_date"
                },
                "dwh.dim_time": {
                    "alias": "dt",
                    "source_table": "dwh.dim_time"
                },
                "dwh.fct_sale": {
                    "alias": "fs",
                    "source_table": "dwh.fct_sale"
                },
                "dwh.fct_sale[2]": {
                    "alias": "fs2",
                    "source_table": "dwh.fct_sale"
                },
                "dwh_crm.dim_customer_personal_details": {
                    "alias": "dcpd",
                    "source_table": "dwh_crm.dim_customer_personal_details"
                },
                "dwh.fct_sale_online_postcode": {
                    "alias": "fsop",
                    "source_table": "dwh.fct_sale_online_postcode"
                },
                "dwh.dim_employee": {
                    "alias": "de",
                    "source_table": "dwh.dim_employee"
                },
                "dwh.dim_store[1]": {
                    "alias": "ds1",
                    "source_table": "dwh.dim_store"
                },
                "dwh.dim_store": {
                    "alias": "ds",
                    "source_table": "dwh.dim_store"
                },
                "dwh.dim_item": {
                    "alias": "di",
                    "source_table": "dwh.dim_item"
                },
                "dwh.dim_employee[1]": {
                    "alias": "de1",
                    "source_table": "dwh.dim_employee"
                },
                "dwh.dim_store[2]": {
                    "alias": "ds2",
                    "source_table": "dwh.dim_store"
                }
            }
        }
    ],
    "debug": true
}